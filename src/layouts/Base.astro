---
// src/layouts/Base.astro — Aurora theme (EN + OG/Twitter/Schema)
const {
  title = "SmokeWins — Independent guide (Canada)",
  description = "Independent guide to payments, fast withdrawals and responsible gambling. No casino listings yet.",
  canonical = undefined,
  noindex = false
} = Astro.props;

// Sivuston perus-URL (päivitä, jos käytät toista domainia esikatseluissa tms.)
const siteUrl = "https://smokewins.com";

// Rakennetaan og:url: käytä canonicalia jos annettu, muuten etusivu
const ogUrl = canonical
  ? new URL(canonical, siteUrl).toString()
  : siteUrl;

// OG/Twitter-kuvan absoluuttinen osoite
const ogImage = `${siteUrl}/branding/smokewins-logo.png`;
---
<!doctype html>
<html lang="en-CA">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>{title}</title>
    <meta name="description" content={description} />
    {canonical && <link rel="canonical" href={ogUrl} />}
    {noindex && <meta name="robots" content="noindex,nofollow" />}

    <!-- Open Graph / Twitter -->
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={ogUrl} />
    <meta property="og:image" content={ogImage} />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />

    <!-- Hreflang (target: Canada EN) -->
    <link rel="alternate" hrefLang="en-CA" href={siteUrl} />

    <!-- Organization schema -->
    <script type="application/ld+json">
      {JSON.stringify({
        "@context": "https://schema.org",
        "@type": "Organization",
        name: "SmokeWins",
        url: siteUrl,
        logo: ogImage,
        sameAs: []
      })}
    </script>

    <link rel="icon" href="/favicon.svg" />
    <link rel="stylesheet" href="/styles.css" />
  </head>

  <body class="theme-aurora">
    <header class="site">
      <div class="container row">
        {/* BRAND / LOGO — vain tässä */}
        <a href="/" class="brand" aria-label="SmokeWins">
          <img
            class="brand__logo"
            src="/branding/smokewins-logo.png"
            alt="SmokeWins"
            width="256"
            height="96"
            loading="eager"
            decoding="async"
          />
        </a>

        <nav class="primary" aria-label="Main navigation">
          <a href="/about">About</a>
          <a href="/methodology">Methodology</a>
          <a href="/guides">Guides</a>
          <a href="/responsible-gambling">Responsible Gambling</a>
          <a href="/contact">Contact</a>
        </nav>
      </div>
    </header>

    <main id="content">
      <slot />
    </main>

    <footer>
      <div class="container grid">
        <section>
          <h5>About</h5>
          <p>
            SmokeWins is an independent guide. We don’t list or recommend casinos yet.
          </p>
          <p class="disclaimer">19+ Play Responsibly. No bonus inducements for Ontario.</p>
        </section>

        <section>
          <h5>Quick links</h5>
          <p><a href="/about">About</a></p>
          <p><a href="/methodology">Methodology</a></p>
          <p><a href="/guides">Guides</a></p>
          <p><a href="/privacy">Privacy</a> · <a href="/terms">Terms</a></p>
        </section>

        <section>
          <h5>Contact & Legal</h5>
          <p><a href="/contact">Contact</a></p>
          <p><a href="/affiliate-disclosure">Affiliate Disclosure</a></p>
        </section>
      </div>

      <div class="container small" style="padding:12px 0;opacity:.7">
        © {new Date().getFullYear()} SmokeWins
      </div>
    </footer>
  </body>
</html>
